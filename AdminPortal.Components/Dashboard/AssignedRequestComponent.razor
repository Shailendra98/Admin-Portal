@using ChartJs.Blazor.LineChart
@using TKW.AdminPortal.Components.SharedComponents
@namespace TKW.AdminPortal.Components.Dashboard
<div class="mb-3">
    <h6 class="font-weight-bold text-secondary small">Assigned Request</h6>
    <div class="card rounded-0 border-0" style="box-shadow: 0px 0px 10px rgba(209, 209, 209, 0.25);">
        <div class="card-body">
            <Chart Config="_config" @ref="_chart"></Chart>
        </div>
    </div>
</div>



@code {
    private const int InitalCount = 6;
    private LineConfig _config;
    private Chart _chart;

    protected override void OnInitialized()
    {
        _config = new LineConfig
        {
            Options = new LineOptions
            {
                Responsive = true,
                Legend = new Legend
                {
                    Display = false,
                    Position = Position.Right
                },
                Title = new OptionsTitle
                {
                    Display = false,
                    Text = "ChartJs.Blazor Line Chart"
                },
                Tooltips = new Tooltips
                {
                    Mode = InteractionMode.Nearest,
                    Intersect = true
                },
                Hover = new Hover
                {
                    Mode = InteractionMode.Nearest,
                    Intersect = true
                },


            }
        };

        IDataset<int> dataset1 = new LineDataset<int>(SampleUtils.RandomScalingFactor(InitalCount))
        {
            Label = "Request Count",
            BackgroundColor = ColorUtil.ColorString(92, 198, 65, 0.4),
            BorderColor = ColorUtil.ColorString(92, 198, 65, 1),
            Fill = true,
        };


        _config.Data.Labels.AddRange((SampleUtils.SampleSource.Take(InitalCount)));
        _config.Data.Datasets.Add(dataset1);
    }

}